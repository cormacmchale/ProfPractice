{"version":3,"sources":["webpack:///./src/app/test-geolocation/test-geolocation.module.ts","webpack:///./src/app/test-geolocation/test-geolocation.page.html","webpack:///./src/app/test-geolocation/test-geolocation.page.scss","webpack:///./src/app/test-geolocation/test-geolocation.page.ts"],"names":[],"mappings":"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","file":"test-geolocation-test-geolocation-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TestGeolocationPage } from './test-geolocation.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TestGeolocationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [TestGeolocationPage]\r\n})\r\nexport class TestGeolocationPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n    <ion-row>\\r\\n      <ion-col text-start padding-top>\\r\\n        <ion-title>Google Map</ion-title>\\r\\n      </ion-col>\\r\\n      <ion-col text-end></ion-col>\\r\\n        <ion-button (click)=\\\"loadMap()\\\" shape=\\\"round\\\" fill=\\\"outline\\\">\\r\\n          <ion-icon slot=\\\"start\\\" name=\\\"locate\\\"></ion-icon>\\r\\n          Where I Am\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-header>\\r\\n  <ion-content>\\r\\n   \\r\\n    <div class=\\\"map-wrapper\\\">\\r\\n      <div id=\\\"map_center\\\">\\r\\n        <img src=\\\"../../assets/icon/center_marker.png\\\" />\\r\\n      </div>\\r\\n      <div #map id=\\\"map\\\"></div>\\r\\n    </div>\\r\\n    <div id=\\\"address\\\">\\r\\n      <span>{{address}}</span>\\r\\n    </div>\\r\\n   \\r\\n   \\r\\n  </ion-content>\"","module.exports = \"#map_canvas {\\n  width: 90%;\\n  height: 80%;\\n  border: 1px solid red; }\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold; }\\n\\n#map {\\n  width: 100%;\\n  height: 70vh; }\\n\\n.map-wrapper {\\n  position: relative; }\\n\\n.map-wrapper #map_center {\\n    position: absolute;\\n    z-index: 99;\\n    height: 40px;\\n    width: 40px;\\n    top: 50%;\\n    left: 50%;\\n    margin-left: -21px;\\n    margin-top: -41px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGVzdC1nZW9sb2NhdGlvbi9DOlxcVXNlcnNcXExlbmFcXERlc2t0b3BcXFByb2ZQcmFjdGljZVxcR29pbmdNeVdheS9zcmNcXGFwcFxcdGVzdC1nZW9sb2NhdGlvblxcdGVzdC1nZW9sb2NhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFVO0VBQ1YsV0FBVztFQUNYLHFCQUFxQixFQUFBOztBQUl2QjtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsaUJBQWlCLEVBQUE7O0FBR25CO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFHZDtFQUNFLGtCQUFrQixFQUFBOztBQURwQjtJQUlJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7SUFDWCxRQUFRO0lBQ1IsU0FBUztJQUNULGtCQUFrQjtJQUNsQixpQkFBaUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3Rlc3QtZ2VvbG9jYXRpb24vdGVzdC1nZW9sb2NhdGlvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFwX2NhbnZhcyB7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgaGVpZ2h0OiA4MCU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XHJcbiAgfVxyXG4gICBcclxuICAgXHJcbiAgI2FkZHJlc3Mge1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuICAgXHJcbiAgI21hcCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNzB2aDtcclxuICB9XHJcbiAgIFxyXG4gIC5tYXAtd3JhcHBlciB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgIFxyXG4gICAgI21hcF9jZW50ZXIge1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIHotaW5kZXg6IDk5O1xyXG4gICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgICB0b3A6IDUwJTtcclxuICAgICAgbGVmdDogNTAlO1xyXG4gICAgICBtYXJnaW4tbGVmdDogLTIxcHg7XHJcbiAgICAgIG1hcmdpbi10b3A6IC00MXB4O1xyXG4gICAgfVxyXG4gIH0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { NativeGeocoder, NativeGeocoderReverseResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\r\n\r\ndeclare var google;\r\n@Component({\r\n  selector: 'app-test-geolocation',\r\n  templateUrl: './test-geolocation.page.html',\r\n  styleUrls: ['./test-geolocation.page.scss'],\r\n})\r\nexport class TestGeolocationPage implements OnInit {\r\n\r\n  @ViewChild('map') mapElement: ElementRef;\r\n  map: any;\r\n  address:string;\r\n  constructor(private geolocation: Geolocation,\r\n    private nativeGeocoder: NativeGeocoder) { }\r\n\r\n  ngOnInit() {\r\n    this.loadMap();\r\n  }\r\n  loadMap() {\r\n    this.geolocation.getCurrentPosition().then((resp) => {\r\n      let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\r\n      let mapOptions = {\r\n        center: latLng,\r\n        zoom: 15,\r\n        mapTypeId: google.maps.MapTypeId.ROADMAP\r\n      }\r\n\r\n      this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude);\r\n\r\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n\r\n      this.map.addListener('tilesloaded', () => {\r\n        console.log('accuracy',this.map);\r\n        this.getAddressFromCoords(this.map.center.lat(), this.map.center.lng())\r\n      });\r\n\r\n    }).catch((error) => {\r\n      console.log('Error getting location', error);\r\n    });\r\n  }\r\n\r\n  getAddressFromCoords(lattitude, longitude) {\r\n    console.log(\"getAddressFromCoords \"+lattitude+\" \"+longitude);\r\n    let options: NativeGeocoderOptions = {\r\n      useLocale: true,\r\n      maxResults: 5\r\n    };\r\n\r\n    this.nativeGeocoder.reverseGeocode(lattitude, longitude, options)\r\n      .then((result: NativeGeocoderReverseResult[]) => {\r\n        this.address = \"\";\r\n        let responseAddress = [];\r\n        for (let [key, value] of Object.entries(result[0])) {\r\n          if(value.length>0)\r\n          responseAddress.push(value);\r\n\r\n        }\r\n        responseAddress.reverse();\r\n        for (let value of responseAddress) {\r\n          this.address += value+\", \";\r\n        }\r\n        this.address = this.address.slice(0, -2);\r\n      })\r\n      .catch((error: any) =>{ \r\n        this.address = \"Address Not Available!\";\r\n      });\r\n\r\n  }\r\n}\r\n"],"sourceRoot":""}